import{r as i,j as e}from"./index-dSJS3epV.js";const d=()=>{const[t,r]=i.useState({name:"",email:"",phone:""}),[l,u]=i.useState(!1),[n,s]=i.useState({text:"",type:""}),p=async a=>{a.preventDefault(),u(!0);const m=window.location.origin;try{const o=await fetch(`${m}/api/newsletter`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),c=await o.json();o.ok?(s({text:c.message,type:"success"}),r({name:"",email:"",phone:""})):s({text:c.error,type:"error"})}catch{s({text:"Network error. Please try again.",type:"error"})}finally{u(!1)}};return e.jsxs("div",{className:"newsletter-section",children:[e.jsx("h3",{children:"Are you a Singapore SME?"}),e.jsx("p",{children:"We can link you up with an SME centre rep to learn all about grants."}),n.text&&e.jsx("div",{className:`newsletter-message ${n.type}`,children:n.text}),e.jsxs("form",{className:"newsletter-form",onSubmit:p,children:[e.jsx("input",{type:"text",placeholder:"Enter your name",value:t.name,onChange:a=>r({...t,name:a.target.value}),required:!0}),e.jsx("input",{type:"email",placeholder:"Enter your email address",value:t.email,onChange:a=>r({...t,email:a.target.value}),required:!0}),e.jsx("input",{type:"numerical",placeholder:"Enter your phone number",value:t.phone,onChange:a=>r({...t,phone:a.target.value})}),e.jsx("button",{type:"submit",disabled:l,children:l?"Connecting...":"Connect"})]})]})};export{d as N};
